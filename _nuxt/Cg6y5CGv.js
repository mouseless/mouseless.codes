import S from"./d4oxtqtT.js";import q from"./BODthDSk.js";import{_ as V}from"./2loCxiET.js";import N from"./DawaqxlR.js";import{A as p,B as P,J as A,c as u,a as l,b as d,F as L,C as R,h as e,s as g,g as v,w as D,D as F,m as I,o as n,v as T,t as j,d as z}from"./CUbhAbJ_.js";import{u as E}from"./B4SIZh5_.js";import"./DlAUqK2U.js";import"./CIvYhHgB.js";import"./CgsmvSe1.js";import"./C2bHYaEW.js";const G={class:"pr-list"},H={class:"pr-list__repos"},J={class:"repo-list"},M={class:"repo-list__items"},K=["onClick"],O={class:"pr-list__prs"},Q={key:0,class:"pr-list__loading loading"},U={key:1,class:"pr-list__see-more pr"},W={class:"pr__body"},rt={__name:"PrList",props:{height:{type:String,default:"50ch"},repos:{type:Array,default:()=>[]}},setup(s){F(t=>({beb588e0:s.height}));const f=s,k=E(),y=I("block-child-color","dark"),m=p([]),i=p(0),_=p(!1),o=p("all");P(async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t}),A([i,o],async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t});function x(){o.value=o.value==="all"?"open":"all"}function b(t){i.value=t}async function h(t){_.value=!1;const a=await k.getPullRequests(f.repos[i.value],t);return _.value=!0,a}return(t,a)=>{const w=S,C=q,$=V,B=N;return n(),u("div",G,[l("div",H,[l("div",J,[l("ul",M,[(n(!0),u(L,null,R(s.repos,(c,r)=>(n(),u("li",{key:c,class:"repo-list__item"},[l("button",{class:T(["repo-list__item-link",[`repo-list__item-link--color_${e(y)}`,{"repo-list__item-link--active":r==e(i)}]]),onClick:X=>b(r)},j(c),11,K)]))),128))]),d(w,{action:x,status:e(o),class:"repo-list__switcher"},null,8,["status"])])]),l("div",O,[e(_)?g("",!0):(n(),u("div",Q,a[0]||(a[0]=[l("div",{class:"loading__icon"},null,-1)]))),e(_)?(n(),v(B,{key:1,align:"left",slides:e(m),height:s.height},{default:D(({pageNumber:c,slides:r})=>[r.length!==0&&c!=r.length-1?(n(),v(C,{key:0,pr:r[c],height:s.height},null,8,["pr","height"])):(n(),u("div",U,[l("div",W,[a[1]||(a[1]=z(" To see more pull requests, please visit ")),d($,{text:`github.com/mouseless/${s.repos[e(i)]}/pulls`,to:`https://github.com/mouseless/${s.repos[e(i)]}/pulls${e(o)=="all"?"?q=is%3Apr":""}`},null,8,["text","to"])])]))]),_:1},8,["slides","height"])):g("",!0)])])}}};export{rt as default};
