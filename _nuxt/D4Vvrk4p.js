import S from"./fxpeUG3o.js";import q from"./CJeIFgpW.js";import{_ as V}from"./TDVRsNBg.js";import L from"./DY6PcGvJ.js";import{r as p,K as N,a as P,f as u,A as l,C as d,G as A,H as R,h as e,v as g,t as f,y as D,L as F,F as G,p as n,n as H,B as I,D as T}from"./ciaMPvop.js";import{u as j}from"./CP0HxcO4.js";import"./DlAUqK2U.js";import"./CC9l6mEL.js";import"./DRL5KoiC.js";import"./C2bHYaEW.js";const z={class:"pr-list"},E={class:"pr-list__repos"},K={class:"repo-list"},M={class:"repo-list__items"},J=["onClick"],O={class:"pr-list__prs"},Q={key:0,class:"pr-list__loading loading"},U={key:1,class:"pr-list__see-more pr"},W={class:"pr__body"},rt={__name:"PrList",props:{height:{type:String,default:"50ch"},repos:{type:Array,default:()=>[]}},setup(s){F(t=>({beb588e0:s.height}));const v=s,k=j(),y=G("block-child-color","dark"),m=p([]),i=p(0),_=p(!1),o=p("all");N(async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t}),P([i,o],async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t});function x(){o.value=o.value==="all"?"open":"all"}function b(t){i.value=t}async function h(t){_.value=!1;const a=await k.getPullRequests(v.repos[i.value],t);return _.value=!0,a}return(t,a)=>{const w=S,C=q,$=V,B=L;return n(),u("div",z,[l("div",E,[l("div",K,[l("ul",M,[(n(!0),u(A,null,R(s.repos,(c,r)=>(n(),u("li",{key:c,class:"repo-list__item"},[l("button",{class:H(["repo-list__item-link",[`repo-list__item-link--color_${e(y)}`,{"repo-list__item-link--active":r==e(i)}]]),onClick:X=>b(r)},I(c),11,J)]))),128))]),d(w,{action:x,status:e(o),class:"repo-list__switcher"},null,8,["status"])])]),l("div",O,[e(_)?g("",!0):(n(),u("div",Q,a[0]||(a[0]=[l("div",{class:"loading__icon"},null,-1)]))),e(_)?(n(),f(B,{key:1,align:"left",slides:e(m),height:s.height},{default:D(({pageNumber:c,slides:r})=>[r.length!==0&&c!=r.length-1?(n(),f(C,{key:0,pr:r[c],height:s.height},null,8,["pr","height"])):(n(),u("div",U,[l("div",W,[a[1]||(a[1]=T(" To see more pull requests, please visit ")),d($,{text:`github.com/mouseless/${s.repos[e(i)]}/pulls`,to:`https://github.com/mouseless/${s.repos[e(i)]}/pulls${e(o)=="all"?"?q=is%3Apr":""}`},null,8,["text","to"])])]))]),_:1},8,["slides","height"])):g("",!0)])])}}};export{rt as default};
