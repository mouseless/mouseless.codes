import{y as u,f as j,a1 as w,g as H,r as I,o as L,v as R,h as y,U as E,a2 as v,_ as M}from"#entry";import{h as P,p,k as A,_ as q}from"./CKYfNwz1.js";function z(n){return{type:"root",children:n.value.map(g)}}function g(n){if(typeof n=="string")return{type:"text",value:n};const[d,r,...i]=n;return{type:"element",tag:d,props:r,children:i.map(g)}}const h=["ProseA","ProseBlockquote","ProseHr","ProseImg","Banner","Block","Box","BulletList","Card","Columns","ContactForm","Footer","Header","Image","Include","LinkButton","MarkdownFormat","People","Pr","PrList","Slider","SliderInner","Steps","Switcher","ProseCode","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseStrong","ProseTable","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl"],b=[],U=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:h,localComponents:b},Symbol.toStringTag,{value:"Module"})),D={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(n){const d=["render","ssrRender","__ssrInlineRender"],r=n,i=!1,c=u(()=>{let e=r.value.body||r.value;return r.excerpt&&r.value.excerpt&&(e=r.value.excerpt),e.type==="minimal"||e.type==="minimark"?z({value:e.value}):e}),C=u(()=>!c.value?.children?.length),m=u(()=>{const{body:e,excerpt:t,...o}=r.value;return{...o,...r.data}}),F=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),{mdc:f}=j().public||{},k=u(()=>({...f?.components?.prose&&r.prose!==!1?F:{},...f?.components?.map||{},...w(r.data?.mdc?.components||{}),...r.components})),x=u(()=>c.value?O(c.value,{tags:k.value}):{});function S(e){let t=e;if(typeof e=="string"){if(P.includes(e))return e;if(h.includes(p(e))?t=E(e,!1):b.includes(p(e))&&(t=v(()=>M(()=>Promise.resolve().then(()=>U),void 0,import.meta.url).then(s=>{const a=s[p(e)];return a?a():void 0}))),typeof t=="string")return t}if(!t)return t;const o=t;return"__asyncLoader"in o?o:"setup"in o?v(()=>Promise.resolve(o)):o}function O(e,t){if(!e)return;const o=Array.from(new Set(_(e,t))),l={};for(const[s,a]of o)if(!l[s]){if(typeof a=="object"&&d.some(B=>Object.hasOwnProperty.call(a,B))){l[s]=a;continue}l[s]=S(a)}return l}function _(e,t){const o=e.tag;if(e.type==="text"||o==="binding"||e.type==="comment")return[];const l=T(e,t.tags),s=[];e.type!=="root"&&!P.includes(l)&&s.push([o,l]);for(const a of e.children||[])s.push(..._(a,t));return s}function T(e,t){const o=e.tag;return!o||typeof e.props?.__ignoreMap<"u"?o:t[o]||t[p(o)]||t[A(e.tag)]||o}return(e,t)=>C.value?I(e.$slots,"empty",{key:1,body:c.value,data:m.value,dataContentId:y(i)?n.value.id:void 0}):(L(),H(q,{key:0,body:c.value,data:m.value,class:R(r.class),tag:r.tag,prose:r.prose,unwrap:r.unwrap,components:x.value,"data-content-id":y(i)?n.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}};export{D as _};
