import q from"./DVYzbgLt.js";import B from"./Bxy1O7Gv.js";import{_ as V}from"./CC4bXEAP.js";import N from"./DLn96t0h.js";import{x as p,G as P,I,c as u,a as l,b as d,F as L,z as R,h as e,s as g,g as v,w as z,H as A,n as F,o as n,v as G,t as H,d as T}from"#entry";import{u as j}from"./CTxfZTnh.js";import"./DlAUqK2U.js";import"./BdTDDomc.js";import"./CKYfNwz1.js";import"./iik6CYzq.js";const D={class:"pr-list"},E={class:"pr-list__repos"},M={class:"repo-list"},J={class:"repo-list__items"},K=["onClick"],O={class:"pr-list__prs"},Q={key:0,class:"pr-list__loading loading"},U={key:1,class:"pr-list__see-more pr"},W={class:"pr__body"},rt={__name:"PrList",props:{height:{type:String,default:"50ch"},repos:{type:Array,default:()=>[]}},setup(s){A(t=>({beb588e0:s.height}));const f=s,k=j(),y=F("block-child-color","dark"),m=p([]),i=p(0),_=p(!1),o=p("all");P(async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t}),I([i,o],async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t});function x(){o.value=o.value==="all"?"open":"all"}function b(t){i.value=t}async function h(t){_.value=!1;const a=await k.getPullRequests(f.repos[i.value],t);return _.value=!0,a}return(t,a)=>{const w=q,$=B,C=V,S=N;return n(),u("div",D,[l("div",E,[l("div",M,[l("ul",J,[(n(!0),u(L,null,R(s.repos,(c,r)=>(n(),u("li",{key:c,class:"repo-list__item"},[l("button",{class:G(["repo-list__item-link",[`repo-list__item-link--color_${e(y)}`,{"repo-list__item-link--active":r==e(i)}]]),onClick:X=>b(r)},H(c),11,K)]))),128))]),d(w,{action:x,status:e(o),class:"repo-list__switcher"},null,8,["status"])])]),l("div",O,[e(_)?g("",!0):(n(),u("div",Q,[...a[0]||(a[0]=[l("div",{class:"loading__icon"},null,-1)])])),e(_)?(n(),v(S,{key:1,align:"left",slides:e(m),height:s.height},{default:z(({pageNumber:c,slides:r})=>[r.length!==0&&c!=r.length-1?(n(),v($,{key:0,pr:r[c],height:s.height},null,8,["pr","height"])):(n(),u("div",U,[l("div",W,[a[1]||(a[1]=T(" To see more pull requests, please visit ",-1)),d(C,{text:`github.com/mouseless/${s.repos[e(i)]}/pulls`,to:`https://github.com/mouseless/${s.repos[e(i)]}/pulls${e(o)=="all"?"?q=is%3Apr":""}`},null,8,["text","to"])])]))]),_:1},8,["slides","height"])):g("",!0)])])}}};export{rt as default};
