import S from"./CfSTxh7u.js";import q from"./D1PdH9Tu.js";import{_ as V}from"./Cjhfi-_p.js";import N from"./D0sWXaI6.js";import{B as p,G as P,I as A,k as u,x as l,z as d,F as I,C as L,b as e,p as g,c as f,s as R,H as z,i as F,o as n,n as G,y as H,A as T}from"./FdLLbHUU.js";import{u as j}from"./Drkn0sJI.js";import"./DlAUqK2U.js";import"./B9yrdCT3.js";import"./D7n-tH4x.js";import"./C2bHYaEW.js";const D={class:"pr-list"},E={class:"pr-list__repos"},M={class:"repo-list"},J={class:"repo-list__items"},K=["onClick"],O={class:"pr-list__prs"},Q={key:0,class:"pr-list__loading loading"},U={key:1,class:"pr-list__see-more pr"},W={class:"pr__body"},rt={__name:"PrList",props:{height:{type:String,default:"50ch"},repos:{type:Array,default:()=>[]}},setup(s){z(t=>({beb588e0:s.height}));const v=s,k=j(),y=F("block-child-color","dark"),m=p([]),i=p(0),_=p(!1),o=p("all");P(async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t}),A([i,o],async()=>{const t=await h(o.value);m.value=t.length>0?[...t,{}]:t});function x(){o.value=o.value==="all"?"open":"all"}function b(t){i.value=t}async function h(t){_.value=!1;const a=await k.getPullRequests(v.repos[i.value],t);return _.value=!0,a}return(t,a)=>{const w=S,C=q,$=V,B=N;return n(),u("div",D,[l("div",E,[l("div",M,[l("ul",J,[(n(!0),u(I,null,L(s.repos,(c,r)=>(n(),u("li",{key:c,class:"repo-list__item"},[l("button",{class:G(["repo-list__item-link",[`repo-list__item-link--color_${e(y)}`,{"repo-list__item-link--active":r==e(i)}]]),onClick:X=>b(r)},H(c),11,K)]))),128))]),d(w,{action:x,status:e(o),class:"repo-list__switcher"},null,8,["status"])])]),l("div",O,[e(_)?g("",!0):(n(),u("div",Q,a[0]||(a[0]=[l("div",{class:"loading__icon"},null,-1)]))),e(_)?(n(),f(B,{key:1,align:"left",slides:e(m),height:s.height},{default:R(({pageNumber:c,slides:r})=>[r.length!==0&&c!=r.length-1?(n(),f(C,{key:0,pr:r[c],height:s.height},null,8,["pr","height"])):(n(),u("div",U,[l("div",W,[a[1]||(a[1]=T(" To see more pull requests, please visit ")),d($,{text:`github.com/mouseless/${s.repos[e(i)]}/pulls`,to:`https://github.com/mouseless/${s.repos[e(i)]}/pulls${e(o)=="all"?"?q=is%3Apr":""}`},null,8,["text","to"])])]))]),_:1},8,["slides","height"])):g("",!0)])])}}};export{rt as default};
